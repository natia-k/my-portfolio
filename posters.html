<script>
    const carousel = document.querySelector('.carousel'); // Ensure your carousel div has this class
    let currentRotation = 0;
    let targetRotation = 0;
    const ease = 0.07; // Control "silkiness" (lower = smoother/more weight)

    window.addEventListener('scroll', () => {
        // Calculate target based on scroll position
        // Adjust the '0.2' to make the rotation faster or slower
        targetRotation = window.scrollY * 0.2; 
    });

    function update() {
        // LERP: Current + (Target - Current) * Ease
        currentRotation += (targetRotation - currentRotation) * ease;
        
        // Use translate3d(0,0,0) to force GPU acceleration (hardware speed)
        carousel.style.transform = `translate3d(0, 0, 0) rotateY(${currentRotation}deg)`;
        
        requestAnimationFrame(update);
    }

    // Start the smooth loop
    update();
</script>

<style>
    /* Essential CSS Performance Tweaks */
    .carousel {
        will-change: transform; /* Tells browser to prep the GPU */
        transform-style: preserve-3d;
        transition: none !important; /* Remove CSS transitions to prevent fighting with JS */
    }

    .poster-item {
        backface-visibility: hidden; /* Reduces flickering on rotation */
        transform: translateZ(400px); /* Adjust distance from center */
    }
</style>
